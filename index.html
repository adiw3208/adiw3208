<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STUNT World - Social Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        * {
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
        }
        
        body {
            font-family: 'Press Start 2P', cursive;
            overflow-x: hidden;
            cursor: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAXklEQVQoU2NkYGD4z4AHMP7//x+TAwMjIyMjAwMLAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDIwMDDyQAEAYusF3Xe8p1oAAAAASUVORK5CYII='), auto;
        }
        
        .pixel-border {
            border: 4px solid #000;
            box-shadow: 
                4px 4px 0 #000,
                -4px -4px 0 #000,
                4px -4px 0 #000,
                -4px 4px 0 #000;
        }
        
        .pixel-btn {
            position: relative;
            transition: all 0.1s;
            border: 3px solid #000;
            cursor: pointer;
        }
        
        .pixel-btn:hover {
            transform: translate(-2px, -2px);
            box-shadow: 
                4px 4px 0 #000,
                8px 8px 0 rgba(0,0,0,0.2);
        }
        
        .pixel-btn:active {
            transform: translate(0, 0);
            box-shadow: 
                2px 2px 0 #000,
                4px 4px 0 rgba(0,0,0,0.2);
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes blink {
            0%, 49% { opacity: 1; }
            50%, 100% { opacity: 0; }
        }
        
        @keyframes walk {
            0% { background-position: 0 0; }
            25% { background-position: -32px 0; }
            50% { background-position: -64px 0; }
            75% { background-position: -96px 0; }
            100% { background-position: 0 0; }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .floating {
            animation: float 3s ease-in-out infinite;
        }
        
        .blink {
            animation: blink 1s infinite;
        }
        
        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }
        
        .pixel-character {
            width: 32px;
            height: 32px;
            background: linear-gradient(45deg, #ff6b6b 25%, #4ecdc4 25%, #4ecdc4 50%, #ff6b6b 50%, #ff6b6b 75%, #4ecdc4 75%, #4ecdc4);
            background-size: 32px 32px;
            animation: walk 0.5s steps(4) infinite;
            position: absolute;
            transition: all 0.3s;
        }
        
        .star {
            position: absolute;
            width: 4px;
            height: 4px;
            background: white;
            animation: twinkle 2s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }
        
        .pixel-text {
            text-shadow: 2px 2px 0 #000;
        }
        
        .gradient-bg {
            background: linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
        }
        
        .scanline {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: scan 8s linear infinite;
            pointer-events: none;
            z-index: 100;
        }
        
        @keyframes scan {
            0% { transform: translateY(0); }
            100% { transform: translateY(100vh); }
        }
        
        .pixel-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            pointer-events: none;
        }
        
        @keyframes particle-float {
            0% {
                transform: translateY(0) translateX(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) translateX(50px) rotate(360deg);
                opacity: 0;
            }
        }
        
        .game-canvas {
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
        }
        
        .menu-item {
            transition: all 0.2s;
        }
        
        .menu-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(10px);
        }
        
        .achievement {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .coin {
            animation: coinSpin 2s linear infinite;
        }
        
        @keyframes coinSpin {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen text-white relative">
    <div class="scanline"></div>
    
    <!-- Stars Background -->
    <div id="stars-container" class="fixed inset-0 pointer-events-none"></div>
    
    <!-- Pixel Character -->
    <div id="pixel-character" class="pixel-character floating" style="top: 20px; left: 20px;"></div>
    
    <!-- Main Menu -->
    <div id="main-menu" class="fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center">
        <div class="pixel-border bg-purple-600 p-8 max-w-md w-full mx-4">
            <h1 class="text-2xl text-center mb-8 pixel-text">STUNT World</h1>
            <div class="space-y-4">
                <button onclick="startGame()" class="pixel-btn w-full bg-green-500 text-black p-4 hover:bg-green-400">
                    <i class="fas fa-gamepad mr-2"></i> PLAY SNAKE
                </button>
                <button onclick="showSocialLinks()" class="pixel-btn w-full bg-blue-500 text-white p-4 hover:bg-blue-400">
                    <i class="fas fa-share-alt mr-2"></i> SOCIAL LINKS
                </button>
                <button onclick="showAchievements()" class="pixel-btn w-full bg-yellow-500 text-black p-4 hover:bg-yellow-400">
                    <i class="fas fa-trophy mr-2"></i> ACHIEVEMENTS
                </button>
                <button onclick="showSettings()" class="pixel-btn w-full bg-red-500 text-white p-4 hover:bg-red-400">
                    <i class="fas fa-cog mr-2"></i> SETTINGS
                </button>
            </div>
            <div class="mt-6 text-center">
                <p class="text-xs blink">PRESS ANY KEY TO CONTINUE</p>
            </div>
        </div>
    </div>
    
    <!-- Game Screen -->
    <div id="game-screen" class="hidden fixed inset-0 z-40">
        <div class="relative h-full flex flex-col">
            <!-- Game HUD -->
            <div class="pixel-border bg-black bg-opacity-80 p-4 flex justify-between items-center">
                <div class="flex items-center gap-4">
                    <span class="text-yellow-400">SCORE: <span id="score">0</span></span>
                    <span class="text-green-400">HIGH: <span id="highscore">0</span></span>
                </div>
                <div class="flex items-center gap-4">
                    <span class="text-red-400">LENGTH: <span id="length">3</span></span>
                    <button onclick="exitGame()" class="pixel-btn bg-red-600 px-4 py-2 text-xs">
                        EXIT
                    </button>
                </div>
            </div>
            
            <!-- Game Canvas Container -->
            <div class="flex-1 flex items-center justify-center p-4">
                <div class="relative">
                    <canvas id="gameCanvas" class="game-canvas pixel-border bg-gray-900" width="720" height="480"></canvas>
                </div>
            </div>
            
            <!-- Game Controls -->
            <div class="pixel-border bg-black bg-opacity-80 p-4 text-center">
                <p class="text-xs">USE ARROW KEYS TO MOVE • EAT THE FOOD • AVOID WALLS AND YOURSELF!</p>
            </div>
        </div>
    </div>
    
    <!-- Game Over Screen -->
    <div id="gameover-screen" class="hidden fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center">
        <div class="pixel-border bg-red-600 p-8 max-w-md w-full mx-4 text-center">
            <h2 class="text-2xl mb-4 pixel-text">GAME OVER</h2>
            <div class="mb-6">
                <p class="text-lg mb-2">FINAL SCORE</p>
                <p class="text-3xl text-yellow-400" id="final-score">0</p>
            </div>
            <div class="space-y-4">
                <button onclick="restartGame()" class="pixel-btn w-full bg-green-500 text-black p-4 hover:bg-green-400">
                    <i class="fas fa-redo mr-2"></i> PLAY AGAIN
                </button>
                <button onclick="backToMenu()" class="pixel-btn w-full bg-gray-500 text-white p-4 hover:bg-gray-400">
                    <i class="fas fa-home mr-2"></i> MAIN MENU
                </button>
            </div>
        </div>
    </div>
    
    <!-- Social Links Screen -->
    <div id="social-screen" class="hidden fixed inset-0 z-40 overflow-y-auto">
        <div class="min-h-screen p-4">
            <div class="max-w-4xl mx-auto">
                <!-- Header -->
                <div class="text-center mb-8">
                    <button onclick="backToMenu()" class="pixel-btn bg-gray-600 px-4 py-2 mb-4">
                        <i class="fas fa-arrow-left mr-2"></i> BACK
                    </button>
                    <h2 class="text-2xl pixel-text">SOCIAL HUB</h2>
                </div>
                
                <!-- Profile Card -->
                <div class="pixel-border bg-purple-600 p-6 mb-8 text-center">
                    <div class="w-32 h-32 mx-auto mb-4 relative">
                        <div class="pixel-border bg-pink-400 w-full h-full flex items-center justify-center">
                            <i class="fas fa-user text-5xl text-black"></i>
                        </div>
                        <div class="absolute -bottom-2 -right-2 bg-green-400 pixel-border px-2 py-1">
                            <span class="text-xs text-black">LVL 99</span>
                        </div>
                    </div>
                    <h3 class="text-lg text-white pixel-text mb-2">PLAYER_NAME</h3>
                    <div class="flex justify-center gap-2 text-xs">
                        <span class="bg-blue-500 px-2 py-1 pixel-border">EXP: 9999</span>
                        <span class="bg-orange-500 px-2 py-1 pixel-border">COINS: ∞</span>
                    </div>
                </div>
                
                <!-- Social Links Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Instagram -->
                    <a href="https://instagram.com" target="_blank" 
                       class="pixel-btn group bg-gradient-to-r from-purple-500 to-pink-500 p-4 flex items-center justify-between hover:from-purple-600 hover:to-pink-600"
                       onmouseover="createParticles(event)">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-white pixel-border flex items-center justify-center">
                                <i class="fab fa-instagram text-2xl text-black"></i>
                            </div>
                            <span class="text-sm">INSTAGRAM</span>
                        </div>
                        <i class="fas fa-chevron-right"></i>
                    </a>
                    
                    <!-- Twitter -->
                    <a href="https://twitter.com" target="_blank"
                       class="pixel-btn group bg-black p-4 flex items-center justify-between hover:bg-gray-900"
                       onmouseover="createParticles(event)">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-white pixel-border flex items-center justify-center">
                                <i class="fab fa-x-twitter text-2xl text-black"></i>
                            </div>
                            <span class="text-sm">TWITTER / X</span>
                        </div>
                        <i class="fas fa-chevron-right"></i>
                    </a>
                    
                    <!-- GitHub -->
                    <a href="https://github.com" target="_blank"
                       class="pixel-btn group bg-gray-800 p-4 flex items-center justify-between hover:bg-gray-700"
                       onmouseover="createParticles(event)">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-white pixel-border flex items-center justify-center">
                                <i class="fab fa-github text-2xl text-black"></i>
                            </div>
                            <span class="text-sm">GITHUB</span>
                        </div>
                        <i class="fas fa-chevron-right"></i>
                    </a>
                    
                    <!-- LinkedIn -->
                    <a href="https://linkedin.com" target="_blank"
                       class="pixel-btn group bg-blue-600 p-4 flex items-center justify-between hover:bg-blue-700"
                       onmouseover="createParticles(event)">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-white pixel-border flex items-center justify-center">
                                <i class="fab fa-linkedin-in text-2xl text-black"></i>
                            </div>
                            <span class="text-sm">LINKEDIN</span>
                        </div>
                        <i class="fas fa-chevron-right"></i>
                    </a>
                    
                    <!-- YouTube -->
                    <a href="https://youtube.com" target="_blank"
                       class="pixel-btn group bg-red-600 p-4 flex items-center justify-between hover:bg-red-700"
                       onmouseover="createParticles(event)">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-white pixel-border flex items-center justify-center">
                                <i class="fab fa-youtube text-2xl text-black"></i>
                            </div>
                            <span class="text-sm">YOUTUBE</span>
                        </div>
                        <i class="fas fa-chevron-right"></i>
                    </a>
                    
                    <!-- TikTok -->
                    <a href="https://tiktok.com" target="_blank"
                       class="pixel-btn group bg-black p-4 flex items-center justify-between hover:bg-gray-900"
                       onmouseover="createParticles(event)">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-white pixel-border flex items-center justify-center">
                                <i class="fab fa-tiktok text-2xl text-black"></i>
                            </div>
                            <span class="text-sm">TIKTOK</span>
                        </div>
                        <i class="fas fa-chevron-right"></i>
                    </a>
                    
                    <!-- Discord -->
                    <a href="https://discord.com" target="_blank"
                       class="pixel-btn group bg-indigo-600 p-4 flex items-center justify-between hover:bg-indigo-700"
                       onmouseover="createParticles(event)">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-white pixel-border flex items-center justify-center">
                                <i class="fab fa-discord text-2xl text-black"></i>
                            </div>
                            <span class="text-sm">DISCORD</span>
                        </div>
                        <i class="fas fa-chevron-right"></i>
                    </a>
                    
                    <!-- Spotify -->
                    <a href="https://spotify.com" target="_blank"
                       class="pixel-btn group bg-green-600 p-4 flex items-center justify-between hover:bg-green-700"
                       onmouseover="createParticles(event)">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-white pixel-border flex items-center justify-center">
                                <i class="fab fa-spotify text-2xl text-black"></i>
                            </div>
                            <span class="text-sm">SPOTIFY</span>
                        </div>
                        <i class="fas fa-chevron-right"></i>
                    </a>
                    
                    <!-- Facebook -->
                    <a href="https://facebook.com" target="_blank"
                       class="pixel-btn group bg-blue-700 p-4 flex items-center justify-between hover:bg-blue-800"
                       onmouseover="createParticles(event)">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-white pixel-border flex items-center justify-center">
                                <i class="fab fa-facebook-f text-2xl text-black"></i>
                            </div>
                            <span class="text-sm">FACEBOOK</span>
                        </div>
                        <i class="fas fa-chevron-right"></i>
                    </a>
                    
                    <!-- Saweria -->
                    <a href="https://saweria.co" target="_blank"
                       class="pixel-btn group bg-gradient-to-r from-yellow-400 to-orange-500 p-4 flex items-center justify-between hover:from-yellow-500 hover:to-orange-600"
                       onmouseover="createParticles(event)">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-white pixel-border flex items-center justify-center">
                                <i class="fas fa-coins text-2xl text-black"></i>
                            </div>
                            <span class="text-sm text-black">SAWERIA</span>
                        </div>
                        <i class="fas fa-chevron-right text-black"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Achievements Screen -->
    <div id="achievements-screen" class="hidden fixed inset-0 z-40 overflow-y-auto">
        <div class="min-h-screen p-4">
            <div class="max-w-4xl mx-auto">
                <button onclick="backToMenu()" class="pixel-btn bg-gray-600 px-4 py-2 mb-4">
                    <i class="fas fa-arrow-left mr-2"></i> BACK
                </button>
                <h2 class="text-2xl text-center mb-8 pixel-text">ACHIEVEMENTS</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div class="pixel-border bg-yellow-500 p-4 text-center">
                        <i class="fas fa-star text-4xl text-black mb-2"></i>
                        <h3 class="text-sm text-black font-bold">FIRST STEPS</h3>
                        <p class="text-xs text-black mt-1">Visit all social links</p>
                    </div>
                    <div class="pixel-border bg-blue-500 p-4 text-center">
                        <i class="fas fa-gamepad text-4xl text-white mb-2"></i>
                        <h3 class="text-sm font-bold">SNAKE MASTER</h3>
                        <p class="text-xs mt-1">Score 500 points</p>
                    </div>
                    <div class="pixel-border bg-purple-500 p-4 text-center">
                        <i class="fas fa-crown text-4xl text-yellow-300 mb-2"></i>
                        <h3 class="text-sm font-bold">SOCIAL KING</h3>
                        <p class="text-xs mt-1">Connect all platforms</p>
                    </div>
                    <div class="pixel-border bg-green-500 p-4 text-center">
                        <i class="fas fa-trophy text-4xl text-white mb-2"></i>
                        <h3 class="text-sm font-bold">HIGH SCORER</h3>
                        <p class="text-xs mt-1">Beat high score</p>
                    </div>
                    <div class="pixel-border bg-red-500 p-4 text-center">
                        <i class="fas fa-fire text-4xl text-white mb-2"></i>
                        <h3 class="text-sm font-bold">SPEED RUNNER</h3>
                        <p class="text-xs mt-1">Grow snake to 30</p>
                    </div>
                    <div class="pixel-border bg-indigo-500 p-4 text-center">
                        <i class="fas fa-infinity text-4xl text-white mb-2"></i>
                        <h3 class="text-sm font-bold">ENDURANCE</h3>
                        <p class="text-xs mt-1">Play 10 games</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Settings Screen -->
    <div id="settings-screen" class="hidden fixed inset-0 z-40 overflow-y-auto">
        <div class="min-h-screen p-4 flex items-center justify-center">
            <div class="pixel-border bg-gray-800 p-8 max-w-md w-full">
                <button onclick="backToMenu()" class="pixel-btn bg-gray-600 px-4 py-2 mb-4">
                    <i class="fas fa-arrow-left mr-2"></i> BACK
                </button>
                <h2 class="text-xl text-center mb-6 pixel-text">SETTINGS</h2>
                
                <div class="space-y-4">
                    <div class="flex justify-between items-center">
                        <span class="text-sm">SOUND</span>
                        <button onclick="toggleSound()" class="pixel-btn bg-green-500 px-4 py-2 text-black">
                            <i id="sound-icon" class="fas fa-volume-up"></i>
                        </button>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-sm">THEME</span>
                        <button onclick="toggleTheme()" class="pixel-btn bg-blue-500 px-4 py-2">
                            <i class="fas fa-palette"></i>
                        </button>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-sm">SNAKE SPEED</span>
                        <select id="snake-speed" class="pixel-btn bg-red-500 px-4 py-2 text-black">
                            <option value="150">SLOW</option>
                            <option value="100" selected>NORMAL</option>
                            <option value="60">FAST</option>
                            <option value="30">INSANE</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Achievement Notifications -->
    <div id="achievement-notification" class="hidden fixed top-4 right-4 z-50 achievement">
        <div class="pixel-border bg-yellow-500 p-4 flex items-center gap-4">
            <i class="fas fa-trophy text-2xl text-black"></i>
            <div>
                <h3 class="text-sm text-black font-bold">ACHIEVEMENT UNLOCKED!</h3>
                <p id="achievement-text" class="text-xs text-black"></p>
            </div>
        </div>
    </div>
    
    <script>
        // Snake Game Variables
        let gameRunning = false;
        let score = 0;
        let highScore = localStorage.getItem('snakeHighScore') || 0;
        let snake = [];
        let direction = { x: 1, y: 0 };
        let food = {};
        let gameCanvas, ctx;
        let gridSize = 12; // Smaller grid for smoother movement
        let tileCountX = 60; // More tiles horizontally
        let tileCountY = 40; // More tiles vertically
        let gameSpeed = 100;
        let gameLoop;
        let soundEnabled = true;
        let currentTheme = 0;
        let gamesPlayed = parseInt(localStorage.getItem('gamesPlayed') || 0);
        
        const themes = [
            { bg: 'linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)' },
            { bg: 'linear-gradient(180deg, #2d1b69 0%, #0f0c29 50%, #24243e 100%)' },
            { bg: 'linear-gradient(180deg, #000428 0%, #004e92 100%)' },
            { bg: 'linear-gradient(180deg, #360033 0%, #0b8793 100%)' }
        ];
        
        // Initialize
        window.onload = function() {
            createStars();
            gameCanvas = document.getElementById('gameCanvas');
            ctx = gameCanvas.getContext('2d');
            ctx.imageSmoothingEnabled = false;
            
            document.getElementById('highscore').textContent = highScore;
            
            // Keyboard controls
            document.addEventListener('keydown', (e) => {
                if (document.getElementById('main-menu').classList.contains('hidden')) return;
                
                if (e.key === 'Enter') {
                    showSocialLinks();
                }
            });
            
            // Snake controls
            document.addEventListener('keydown', (e) => {
                if (!gameRunning) return;
                
                switch(e.key) {
                    case 'ArrowUp':
                        if (direction.y === 0) {
                            direction = { x: 0, y: -1 };
                        }
                        break;
                    case 'ArrowDown':
                        if (direction.y === 0) {
                            direction = { x: 0, y: 1 };
                        }
                        break;
                    case 'ArrowLeft':
                        if (direction.x === 0) {
                            direction = { x: -1, y: 0 };
                        }
                        break;
                    case 'ArrowRight':
                        if (direction.x === 0) {
                            direction = { x: 1, y: 0 };
                        }
                        break;
                }
            });
        }
        
        // Create stars
        function createStars() {
            const container = document.getElementById('stars-container');
            for (let i = 0; i < 50; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 2 + 's';
                container.appendChild(star);
            }
        }
        
        // Create particles
        function createParticles(event) {
            const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#f9ca24', '#f0932b'];
            
            for (let i = 0; i < 5; i++) {
                const particle = document.createElement('div');
                particle.className = 'pixel-particle';
                particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                particle.style.left = event.clientX + 'px';
                particle.style.top = event.clientY + 'px';
                particle.style.animation = 'particle-float 1s ease-out forwards';
                document.body.appendChild(particle);
                
                setTimeout(() => particle.remove(), 1000);
            }
        }
        
        // Menu Functions
        function startGame() {
            document.getElementById('main-menu').classList.add('hidden');
            document.getElementById('game-screen').classList.remove('hidden');
            initSnakeGame();
        }
        
        function showSocialLinks() {
            document.getElementById('main-menu').classList.add('hidden');
            document.getElementById('social-screen').classList.remove('hidden');
            showAchievement('Social Explorer', 'Visited social links!');
        }
        
        function showAchievements() {
            document.getElementById('main-menu').classList.add('hidden');
            document.getElementById('achievements-screen').classList.remove('hidden');
        }
        
        function showSettings() {
            document.getElementById('main-menu').classList.add('hidden');
            document.getElementById('settings-screen').classList.remove('hidden');
        }
        
        function backToMenu() {
            document.querySelectorAll('#game-screen, #social-screen, #achievements-screen, #settings-screen, #gameover-screen').forEach(screen => {
                screen.classList.add('hidden');
            });
            document.getElementById('main-menu').classList.remove('hidden');
            gameRunning = false;
            clearInterval(gameLoop);
        }
        
        // Snake Game Functions
        function initSnakeGame() {
            gameSpeed = parseInt(document.getElementById('snake-speed')?.value || 100);
            gamesPlayed++;
            localStorage.setItem('gamesPlayed', gamesPlayed);
            
            // Check endurance achievement
            if (gamesPlayed >= 10) {
                showAchievement('Endurance', 'Played 10 games!');
            }
            
            // Initialize snake at center
            const centerX = Math.floor(tileCountX / 2);
            const centerY = Math.floor(tileCountY / 2);
            snake = [
                { x: centerX, y: centerY },
                { x: centerX - 1, y: centerY },
                { x: centerX - 2, y: centerY }
            ];
            
            direction = { x: 1, y: 0 };
            score = 0;
            gameRunning = true;
            
            generateFood();
            updateHUD();
            
            clearInterval(gameLoop);
            gameLoop = setInterval(updateSnakeGame, gameSpeed);
        }
        
        function updateSnakeGame() {
            if (!gameRunning) return;
            
            // Move snake head
            const head = { ...snake[0] };
            head.x += direction.x;
            head.y += direction.y;
            
            // Check wall collision - snake can touch borders
            if (head.x < 0 || head.x >= tileCountX || head.y < 0 || head.y >= tileCountY) {
                gameOver();
                return;
            }
            
            // Check self collision
            for (let segment of snake) {
                if (head.x === segment.x && head.y === segment.y) {
                    gameOver();
                    return;
                }
            }
            
            snake.unshift(head);
            
            // Check food collision
            if (head.x === food.x && head.y === food.y) {
                score += 10;
                updateHUD();
                generateFood();
                
                // Check achievements
                if (score >= 500) {
                    showAchievement('Snake Master', 'Scored 500 points!');
                }
                
                if (snake.length >= 30) {
                    showAchievement('Speed Runner', 'Snake reached length 30!');
                }
            } else {
                snake.pop();
            }
            
            drawSnakeGame();
        }
        
        function drawSnakeGame() {
            // Clear canvas
            ctx.fillStyle = '#0a0a0a';
            ctx.fillRect(0, 0, gameCanvas.width, gameCanvas.height);
            
            // Draw subtle grid
            ctx.strokeStyle = '#1a1a1a';
            ctx.lineWidth = 1;
            for (let i = 0; i <= tileCountX; i++) {
                ctx.beginPath();
                ctx.moveTo(i * gridSize, 0);
                ctx.lineTo(i * gridSize, gameCanvas.height);
                ctx.stroke();
            }
            for (let i = 0; i <= tileCountY; i++) {
                ctx.beginPath();
                ctx.moveTo(0, i * gridSize);
                ctx.lineTo(gameCanvas.width, i * gridSize);
                ctx.stroke();
            }
            
            // Draw snake
            snake.forEach((segment, index) => {
                if (index === 0) {
                    // Head - brighter green
                    ctx.fillStyle = '#4ade80';
                } else {
                    // Body - gradient from dark to lighter green
                    const gradient = 1 - (index / snake.length) * 0.5;
                    ctx.fillStyle = `rgba(34, 197, 94, ${gradient})`;
                }
                ctx.fillRect(segment.x * gridSize + 1, segment.y * gridSize + 1, gridSize - 2, gridSize - 2);
                
                // Draw eyes on head
                if (index === 0) {
                    ctx.fillStyle = '#fff';
                    const eyeSize = 2;
                    const eyeOffset = 3;
                    
                    if (direction.x === 1) {
                        ctx.fillRect(segment.x * gridSize + gridSize - eyeOffset, segment.y * gridSize + eyeOffset, eyeSize, eyeSize);
                        ctx.fillRect(segment.x * gridSize + gridSize - eyeOffset, segment.y * gridSize + gridSize - eyeOffset - eyeSize, eyeSize, eyeSize);
                    } else if (direction.x === -1) {
                        ctx.fillRect(segment.x * gridSize + eyeOffset - eyeSize, segment.y * gridSize + eyeOffset, eyeSize, eyeSize);
                        ctx.fillRect(segment.x * gridSize + eyeOffset - eyeSize, segment.y * gridSize + gridSize - eyeOffset - eyeSize, eyeSize, eyeSize);
                    } else if (direction.y === 1) {
                        ctx.fillRect(segment.x * gridSize + eyeOffset, segment.y * gridSize + gridSize - eyeOffset, eyeSize, eyeSize);
                        ctx.fillRect(segment.x * gridSize + gridSize - eyeOffset - eyeSize, segment.y * gridSize + gridSize - eyeOffset, eyeSize, eyeSize);
                    } else {
                        ctx.fillRect(segment.x * gridSize + eyeOffset, segment.y * gridSize + eyeOffset - eyeSize, eyeSize, eyeSize);
                        ctx.fillRect(segment.x * gridSize + gridSize - eyeOffset - eyeSize, segment.y * gridSize + eyeOffset - eyeSize, eyeSize, eyeSize);
                    }
                }
            });
            
            // Draw food with pulsing effect
            const pulse = Math.sin(Date.now() * 0.005) * 0.2 + 0.8;
            ctx.fillStyle = `rgba(239, 68, 68, ${pulse})`;
            ctx.fillRect(food.x * gridSize + 2, food.y * gridSize + 2, gridSize - 4, gridSize - 4);
            
            // Draw food shine
            ctx.fillStyle = '#fca5a5';
            ctx.fillRect(food.x * gridSize + 4, food.y * gridSize + 4, 3, 3);
        }
        
        function generateFood() {
            do {
                food = {
                    x: Math.floor(Math.random() * tileCountX),
                    y: Math.floor(Math.random() * tileCountY)
                };
            } while (snake.some(segment => segment.x === food.x && segment.y === food.y));
        }
        
        function updateHUD() {
            document.getElementById('score').textContent = score;
            document.getElementById('length').textContent = snake.length;
        }
        
        function gameOver() {
            gameRunning = false;
            clearInterval(gameLoop);
            
            // Update high score
            if (score > highScore) {
                highScore = score;
                localStorage.setItem('snakeHighScore', highScore);
                document.getElementById('highscore').textContent = highScore;
                showAchievement('High Scorer', 'New high score!');
            }
            
            // Show game over screen
            document.getElementById('final-score').textContent = score;
            document.getElementById('gameover-screen').classList.remove('hidden');
        }
        
        function restartGame() {
            document.getElementById('gameover-screen').classList.add('hidden');
            initSnakeGame();
        }
        
        function exitGame() {
            gameRunning = false;
            clearInterval(gameLoop);
            backToMenu();
        }
        
        // Settings Functions
        function toggleSound() {
            soundEnabled = !soundEnabled;
            const icon = document.getElementById('sound-icon');
            icon.className = soundEnabled ? 'fas fa-volume-up' : 'fas fa-volume-mute';
        }
        
        function toggleTheme() {
            currentTheme = (currentTheme + 1) % themes.length;
            document.body.style.background = themes[currentTheme].bg;
        }
        
        // Achievement System
        function showAchievement(title, description) {
            const notification = document.getElementById('achievement-notification');
            document.getElementById('achievement-text').textContent = description;
            notification.classList.remove('hidden');
            
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 3000);
        }
        
        // Move pixel character
        let characterX = 20;
        let characterY = 20;
        const character = document.getElementById('pixel-character');
        
        document.addEventListener('mousemove', (e) => {
            if (document.getElementById('main-menu').classList.contains('hidden')) return;
            
            const targetX = e.clientX - 16;
            const targetY = e.clientY - 16;
            
            characterX += (targetX - characterX) * 0.05;
            characterY += (targetY - characterY) * 0.05;
            
            character.style.left = characterX + 'px';
            character.style.top = characterY + 'px';
        });
        
        // Random floating messages
        const messages = ['NICE MOVE!', 'GOOD JOB!', 'KEEP GOING!', 'AWESOME!', 'PERFECT!', 'GREAT!'];
        setInterval(() => {
            if (Math.random() > 0.8 && gameRunning) {
                const message = document.createElement('div');
                message.className = 'fixed text-yellow-400 text-xs pixel-text z-50 pointer-events-none';
                message.textContent = messages[Math.floor(Math.random() * messages.length)];
                message.style.left = Math.random() * 60 + 20 + '%';
                message.style.top = Math.random() * 60 + 20 + '%';
                message.style.animation = 'particle-float 1.5s ease-out forwards';
                document.body.appendChild(message);
                setTimeout(() => message.remove(), 1500);
            }
        }, 4000);
    </script>
</body>
</html>
